<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>تنصيب mysql وتهيئته بالشكل الصحيح &#8211; موقع ملهم</title> <meta name="description" content="تنصيب وتهيئة إعدادات mysql بالشكل الصحيح وحل مشكلة رفض الوصول للمستخدم وعدم القدرة على إجراء اتصال مع قاعدة البيانات"> <meta name="keywords" content="SQL, mysql, قواعد بيانات, لينكس"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="تنصيب mysql وتهيئته بالشكل الصحيح"> <meta name="twitter:description" content="فيما يلي شرح لتنصيب mysql بشكل صحيح على نظام أبونتو تحديدا ويبقى الشرح ساري المفعول لباقي أنظمة لينكس وباقي الأنظمة أيضاً مع بعض التغييرات.التنصيب تنصيب mysql sudo apt install mysql-server تهيئة الإعدادات mysql_secure_installation حل مشكلة الوصول المرفوض للمستخدمبعد التنصيبة يجب عند كتابة الأمر التالي وإدخال كلمة سر النظام القدرة على الوصول لسطر أوامر mysql لكتابة أوامر sql هناك، ولكن غالبا ما يتم رفض الوصول لسطر أوامر mysql بعد التنصيب مباشرة، للتأكد أولا من وجود المشكلة أدخل التالي: mysql -u root -pوأدخل كلمة سر النظام، جرب أيضا التالي مع استبدال user باسم المستخدم الخاص بك في النظام (والذي يكون مكتوب في الطرفية كالتالي:user@host:~$ mysql -u user -pإذا تم رفض الوصول وأعطاك الخطأ “ERROR 1698 (28000): Access denied for user” فإليك الحل:لحل هذه المشكلة طريقتين: قم بتنفيذ الأمر التالي sudo mysql -u root ثم أدخل أوامر sql التالية: mysql&gt; USE mysql; mysql&gt; SELECT User, Host, plugin FROM mysql.user;إذا كان الناتج مشابه للتالي: +------------------+-----------------------+ | User | plugin | +------------------+-----------------------+ | root | auth_socket | | mysql.sys | mysql_native_password | | debian-sys-maint | mysql_native_password | +------------------+-----------------------+أي أن المستخدم root يستخدم plugin يونكس المسمى auth_socket وهذا هو سبب المشكلة.علينا بتغيير هذا ال plugin إلى mysql_native_password وفق الأوامر التالية: mysql&gt; UPDATE user SET plugin=&#39;mysql_native_password&#39; WHERE User=&#39;root&#39;; mysql&gt; FLUSH PRIVILEGES; mysql&gt; exit;ثم قم بإعادة تشغيل mysql $ service mysql restart أو يمكن إضافة المستخدم الحالي لقاعدة البيانات وإعطائه الصلاحيات المطلوبة وفقا للأوامر التالية: $ sudo mysql -u root mysql&gt; USE mysql; في الأوامر التالية قم بتغيير YOUR_SYSTEM_USER إلى اسم مستخدم النظام الموجود لديك و Password لكلمة السر التي ترغب mysql&gt; CREATE USER &#39;YOUR_SYSTEM_USER&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;Password&#39;; mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;YOUR_SYSTEM_USER&#39;@&#39;localhost&#39;; mysql&gt; UPDATE user SET plugin=&#39;auth_socket&#39; WHERE User=&#39;YOUR_SYSTEM_USER&#39;; mysql&gt; FLUSH PRIVILEGES; mysql&gt; exit; $ service mysql restartوبهذا يجب أن تكون المشكلة قد حُلَّت، ﻷي استفسار اتركه في التعليقات أو راسلني عبر البريد الإلكتروني.المراجع: stackoverflow"> <!-- Open Graph --> <meta property="og:locale" content="ar_SY"> <meta property="og:type" content="article"> <meta property="og:title" content="تنصيب mysql وتهيئته بالشكل الصحيح"> <meta property="og:description" content="فيما يلي شرح لتنصيب mysql بشكل صحيح على نظام أبونتو تحديدا ويبقى الشرح ساري المفعول لباقي أنظمة لينكس وباقي الأنظمة أيضاً مع بعض التغييرات.التنصيب تنصيب mysql sudo apt install mysql-server تهيئة الإعدادات mysql_secure_installation حل مشكلة الوصول المرفوض للمستخدمبعد التنصيبة يجب عند كتابة الأمر التالي وإدخال كلمة سر النظام القدرة على الوصول لسطر أوامر mysql لكتابة أوامر sql هناك، ولكن غالبا ما يتم رفض الوصول لسطر أوامر mysql بعد التنصيب مباشرة، للتأكد أولا من وجود المشكلة أدخل التالي: mysql -u root -pوأدخل كلمة سر النظام، جرب أيضا التالي مع استبدال user باسم المستخدم الخاص بك في النظام (والذي يكون مكتوب في الطرفية كالتالي:user@host:~$ mysql -u user -pإذا تم رفض الوصول وأعطاك الخطأ “ERROR 1698 (28000): Access denied for user” فإليك الحل:لحل هذه المشكلة طريقتين: قم بتنفيذ الأمر التالي sudo mysql -u root ثم أدخل أوامر sql التالية: mysql&gt; USE mysql; mysql&gt; SELECT User, Host, plugin FROM mysql.user;إذا كان الناتج مشابه للتالي: +------------------+-----------------------+ | User | plugin | +------------------+-----------------------+ | root | auth_socket | | mysql.sys | mysql_native_password | | debian-sys-maint | mysql_native_password | +------------------+-----------------------+أي أن المستخدم root يستخدم plugin يونكس المسمى auth_socket وهذا هو سبب المشكلة.علينا بتغيير هذا ال plugin إلى mysql_native_password وفق الأوامر التالية: mysql&gt; UPDATE user SET plugin=&#39;mysql_native_password&#39; WHERE User=&#39;root&#39;; mysql&gt; FLUSH PRIVILEGES; mysql&gt; exit;ثم قم بإعادة تشغيل mysql $ service mysql restart أو يمكن إضافة المستخدم الحالي لقاعدة البيانات وإعطائه الصلاحيات المطلوبة وفقا للأوامر التالية: $ sudo mysql -u root mysql&gt; USE mysql; في الأوامر التالية قم بتغيير YOUR_SYSTEM_USER إلى اسم مستخدم النظام الموجود لديك و Password لكلمة السر التي ترغب mysql&gt; CREATE USER &#39;YOUR_SYSTEM_USER&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;Password&#39;; mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;YOUR_SYSTEM_USER&#39;@&#39;localhost&#39;; mysql&gt; UPDATE user SET plugin=&#39;auth_socket&#39; WHERE User=&#39;YOUR_SYSTEM_USER&#39;; mysql&gt; FLUSH PRIVILEGES; mysql&gt; exit; $ service mysql restartوبهذا يجب أن تكون المشكلة قد حُلَّت، ﻷي استفسار اتركه في التعليقات أو راسلني عبر البريد الإلكتروني.المراجع: stackoverflow"> <meta property="og:url" content="http://localhost:4000/mysql-ubuntu/"> <meta property="og:site_name" content="موقع ملهم"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <script> var host = "mulham.github.io"; if ((host == window.location.host) && (window.location.protocol != "https:")) window.location.protocol = "https"; </script> <meta name="yandex-verification" content="ea5684dc21acccc9" /> <link rel="canonical" href="http://localhost:4000/mysql-ubuntu/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="موقع ملهم Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script async custom-element="amp-auto-ads" src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js"> </script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-4752855256699204", enable_page_level_ads: true }); </script> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">عرض القائمة</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">الرئيسيّة</a></li> <li> <a href="#">عن الموقع</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="موقع ملهم photo" class="author-photo"> <h4>موقع ملهم</h4> <p>شغف المعرفة</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">تعرّف أكثر</span></a></li> <li> <a href="mailto:mulham94@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> البريد الإلكتروني</a> </li> <li> <a href="http://github.com/mulham" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="https://youtube.com/user/mulham94" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-youtube-square"></i> يوتيوب</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="http://localhost:4000/posts/">المدونة</a> </li> <li><a href="http://localhost:4000/tutorials/" >الدروس</a></li> <li><a href="http://localhost:4000/urls" >روابط مفيدة</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>تنصيب mysql وتهيئته بالشكل الصحيح</h1> <h4>28 Aug 2019</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> مدة القراءة ~ 2 دقيقة </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/tutorials/"> <i class="fa fa-chevron-left"></i> </a> <a class="btn zoombtn" href="https://github.com/Mulham/mulham.github.io/tree/master/tutorials/_posts/2019-08-28-mysql-ubuntu.md">عدِّل هذه الصفحة</a> </div> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- desktop --> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4752855256699204" data-ad-slot="3888202602" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <p>فيما يلي شرح لتنصيب mysql بشكل صحيح على نظام أبونتو تحديدا ويبقى الشرح ساري المفعول لباقي أنظمة لينكس وباقي الأنظمة أيضاً مع بعض التغييرات.</p> <h1 id="التنصيب">التنصيب</h1> <ol> <li> <p>تنصيب mysql</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> sudo apt install mysql-server
</code></pre></div> </div> </li> <li> <p>تهيئة الإعدادات</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> mysql_secure_installation
</code></pre></div> </div> </li> </ol> <h1 id="حل-مشكلة-الوصول-المرفوض-للمستخدم">حل مشكلة الوصول المرفوض للمستخدم</h1> <p>بعد التنصيبة يجب عند كتابة الأمر التالي وإدخال كلمة سر النظام القدرة على الوصول لسطر أوامر mysql لكتابة أوامر sql هناك، ولكن غالبا ما يتم رفض الوصول لسطر أوامر mysql بعد التنصيب مباشرة، للتأكد أولا من وجود المشكلة أدخل التالي:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	mysql -u root -p
</code></pre></div></div> <p>وأدخل كلمة سر النظام، جرب أيضا التالي مع استبدال user باسم المستخدم الخاص بك في النظام (والذي يكون مكتوب في الطرفية كالتالي:</p> <p>user@host:~$</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	mysql -u user -p
</code></pre></div></div> <p>إذا تم رفض الوصول وأعطاك الخطأ “ERROR 1698 (28000): Access denied for user” فإليك الحل:</p> <p>لحل هذه المشكلة طريقتين:</p> <ul> <li> <p>قم بتنفيذ الأمر التالي</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  sudo mysql -u root
</code></pre></div> </div> </li> </ul> <p>ثم أدخل أوامر sql التالية:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	mysql&gt; USE mysql;
	mysql&gt; SELECT User, Host, plugin FROM mysql.user;
</code></pre></div></div> <p>إذا كان الناتج مشابه للتالي:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	+------------------+-----------------------+
	| User             | plugin                |
	+------------------+-----------------------+
	| root             | auth_socket           |
	| mysql.sys        | mysql_native_password |
	| debian-sys-maint | mysql_native_password |
	+------------------+-----------------------+
</code></pre></div></div> <p>أي أن المستخدم root يستخدم plugin يونكس المسمى auth_socket وهذا هو سبب المشكلة.</p> <p>علينا بتغيير هذا ال plugin إلى mysql_native_password وفق الأوامر التالية:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	mysql&gt; UPDATE user SET plugin='mysql_native_password' WHERE User='root';
	mysql&gt; FLUSH PRIVILEGES;
	mysql&gt; exit;
</code></pre></div></div> <p>ثم قم بإعادة تشغيل mysql</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	$ service mysql restart
</code></pre></div></div> <ul> <li> <p>أو يمكن إضافة المستخدم الحالي لقاعدة البيانات وإعطائه الصلاحيات المطلوبة وفقا للأوامر التالية:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  $ sudo mysql -u root 

  mysql&gt; USE mysql;
</code></pre></div> </div> </li> </ul> <p>في الأوامر التالية قم بتغيير YOUR_SYSTEM_USER إلى اسم مستخدم النظام الموجود لديك و Password لكلمة السر التي ترغب</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	mysql&gt; CREATE USER 'YOUR_SYSTEM_USER'@'localhost' IDENTIFIED BY 'Password';
	mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'YOUR_SYSTEM_USER'@'localhost';
	mysql&gt; UPDATE user SET plugin='auth_socket' WHERE User='YOUR_SYSTEM_USER';
	mysql&gt; FLUSH PRIVILEGES;
	mysql&gt; exit;

	$ service mysql restart
</code></pre></div></div> <p>وبهذا يجب أن تكون المشكلة قد حُلَّت، ﻷي استفسار اتركه في التعليقات أو راسلني عبر البريد الإلكتروني.</p> <p>المراجع:</p> <ul> <li><a href="https://stackoverflow.com/questions/39281594/error-1698-28000-access-denied-for-user-rootlocalhost">stackoverflow</a></li> </ul> <div class="rect"> <h2>اقرأ أيضًا</h2> <a href="/gnu-grep-basics/"> <li> أساسيات جنو grep للمبتدئين </li> </a> <a href="/configure-ubuntu-as-router/"> <li> ضبط أبونتو للعمل كراوتر </li> </a> <a href="/send-mail-php-ubuntu/"> <li> تهيئة PHP لإرسال رسائل إلكترونية عبر سيرفر خارجي </li> </a> <a href="/ubuntu-weak-signal-wifi/"> <li> حل مشكلة ضعف إشارة الوايفاي في أبونتو </li> </a> <!-- Begin Mailchimp Signup Form --> <link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"> <div id="mc_embed_signup" style="font:14px;width:100%;"> <form action="https://github.us5.list-manage.com/subscribe/post?u=ef99ab99e546f6f09993024f4&amp;id=94dda7fbb9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate> <div id="mc_embed_signup_scroll"> <label for="mce-EMAIL">ابقى على اطلاع على آخر شروحاتنا التقنية</label> <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="يرجى إدخال بريدك الإلكتروني" required> <div class="clear"><input type="submit" value="اشترك" name="subscribe" id="mc-embedded-subscribe" class="button"></div> </div> </form> </div> <!--End mc_embed_signup--> </div> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <!-- desktop --> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4752855256699204" data-ad-slot="3888202602" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#SQL" title="Pages tagged SQL" class="tag"><span class="term">SQL</span></a><a href="http://localhost:4000/tags/#mysql" title="Pages tagged mysql" class="tag"><span class="term">mysql</span></a><a href="http://localhost:4000/tags/#قواعد بيانات" title="Pages tagged قواعد بيانات" class="tag"><span class="term">قواعد بيانات</span></a><a href="http://localhost:4000/tags/#لينكس" title="Pages tagged لينكس" class="tag"><span class="term">لينكس</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/mysql-ubuntu/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Like</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/mysql-ubuntu/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-80564042-1', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <script type="text/javascript"> var disqus_shortname = 'mulham-1'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <amp-auto-ads type="adsense" data-ad-client="ca-pub-4752855256699204"> </amp-auto-ads> </body> </html>
